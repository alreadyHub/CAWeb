jQuery(document).ready(function(){$=jQuery.noConflict();var a=false;$(window).on("beforeunload",function(){if(a&&"nav-menus.php"!==args.changeCheck){return"Are you sure you want to leave?"}});$('textarea, #ca_default_navigation_menu, select, input[type="text"], input[type="checkbox"], input[type="password"] ').change(function(b){a=true});$('input[type="button"]').click(function(b){a=true});$("#ca-options-form").submit(function(){a=false;this.submit()});$(".caweb-nav-tab").click(function(){var b=document.getElementsByClassName("caweb-nav-tab");var c=this.getAttribute("name");for(i=0;i<b.length;i++){if(c!==b[i].getAttribute("name")){b[i].classList.remove("nav-tab-active");document.getElementById(b[i].getAttribute("name")).classList.add("hidden")}else{b[i].classList.add("nav-tab-active");document.getElementById(c).classList.remove("hidden")}}document.getElementById("tab_selected").value=c});$("#ca_site_version").change(function(){var h=this.options[this.selectedIndex].value;var c=document.getElementsByClassName("extra");var b=document.getElementsByClassName("base");var k=$("#general table:first tr:nth-child(6)");var l=$("#ca_site_color_scheme")[0];var d=l.options[l.selectedIndex].value;var g=false;for(var f=0;f<c.length;f++){if(h>=5){c[f].classList.remove("hidden");for(var e=0;e<b.length;e++){b[e].classList.add("hidden")}if(!$("#ca_google_search_id").val().trim()){k.addClass("hidden")}else{k.removeClass("hidden")}}else{c[f].classList.add("hidden");if(c[f].value==d&&c[f].classList.contains("extra")){g=true}for(var e=0;e<b.length;e++){b[e].classList.remove("hidden")}}}if(g){for(var f=0;f<l.options.length;f++){if(!l.options[f].classList.contains("extra")){l.selectedIndex=f;break}}}});$("#resetIcon").click(function(){var b=args.defaultFavIcon;document.getElementById("ca_fav_ico").value=b;document.getElementById("ca_fav_ico_img").src=b;document.getElementById("ca_fav_ico_filename").value="favicon.ico"});$("#ca_google_search_id").on("input",function(b){var d=$("#general table:first tr:nth-child(6)");var c=$("#ca_site_version option:selected").val();if(!this.value.trim()){d.addClass("hidden")}else{if(5<=c){d.removeClass("hidden")}}});$(".removeStyle").click(function(c){c.preventDefault();var b=confirm("Are you sure you want to "+this.title+"? This can not be undone.");if(b==true){a=true;this.parentNode.remove()}});$("#uploadedCSS").sortable();$("#uploadedCSS").disableSelection();$("#addCSS").click(function(h){var d=$("#custom-css table:first");var b=d.children().children().length;var j=document.createElement("TR");var g=document.createElement("TD");var k=document.createElement("A");var f=document.createElement("TD");var c=document.createElement("Input");j.classList="pending-stylesheet";k.classList="dashicons dashicons-dismiss removeStyle";c.type="file";c.name=b+"_upload";c.id=b+"_upload";c.accept=".css";k.addEventListener("click",function(m){m.preventDefault();var l=""!==this.title?confirm("Are you sure you want to "+this.title+"? This can not be undone."):true;if(l==true){a=true;this.parentNode.parentNode.remove()}});c.addEventListener("change",function(){var e=this.value.substring(this.value.lastIndexOf("\\")+1);var l=e.lastIndexOf(".")>0?e.substring(e.lastIndexOf(".")+1).toLowerCase():"";if(""===l||"css"!==l){alert(e+" isn't a valid CSS extension and was not uploaded.");this.parentNode.remove()}else{k.title="remove "+e}});f.append(k);f.append(c);j.append(g);j.append(f);d.append(j);a=true})});jQuery(document).ready(function(){$=jQuery.noConflict();var b=$("#menu-to-edit").children().length;if(document.getElementById("description-hide")!==null){document.getElementById("description-hide").parentNode.style.visibility="hidden"}$(".item-edit").click(a);$("ul.menu-icon-list li").click(d);$(".unit-size-selector").change(c);$("#menu-to-edit").on("DOMSubtreeModified",function(l){if(b<$("#menu-to-edit").children().length){b=$("#menu-to-edit").children().length;var e=this.getElementsByClassName("pending");for(var h=0;h<e.length;h++){var k=e.item(h).id.substring(e.item(h).id.lastIndexOf("-")+1);var g=document.getElementById("menu-icon-list-"+k).getElementsByTagName("li");document.getElementById("edit-"+k).addEventListener("click",a);for(var f=0;f<g.length;f++){g.item(f).addEventListener("click",d)}document.getElementById("unit-size-selector-"+k).addEventListener("change",c);document.getElementById("library-link-"+k).addEventListener("click",(function(m){var n;var j;m(function(){var o=m(".available-headers");o.imagesLoaded(function(){o.masonry({itemSelector:".default-header",isRTL:!!("undefined"!=typeof isRtl&&isRtl)})});m(".library-link").click(function(s){var r=m(this);j=this.name;s.preventDefault();var q=r.data("option");var u=r.data("uploader");var p=u?"":"hidden-upload";var t=r.data("icon-check")&&r.attr("data-icon-check");if(!!q&&q.indexOf(",")>0){q=q.split(",")}if(n){}n=wp.media.frames.customHeader=wp.media({title:r.data("choose"),library:{type:q},uploader:u,button:{text:r.data("update"),close:true}});n.on("select",function(){var z=n.state().get("selection").first(),x=r.data("updateLink");var v=z.attributes.url.split("/");v=v[v.length-1];var B=document.getElementById(j);var w=document.getElementById(j+"_img");var A=document.getElementById(j+"_filename");var y={action:"caweb_fav_icon_check",icon_url:z.attributes.url,};if(!t){B.value=z.attributes.url;if(null!==w){w.src=z.attributes.url}if(null!==A){A.value=v}}else{jQuery.post(ajaxurl,y,function(C){if(1==C){B.value=z.attributes.url;w.src=z.attributes.url;A.value=v}else{alert("Invalid Icon Mime Type: "+v)}})}});n.on("open",function(){if(!u){var v=n.el.getElementsByClassName("media-frame-router")[0].getElementsByClassName("media-router")[0].getElementsByClassName("media-menu-item");v[1].click();v[0].parentNode.removeChild(v[0])}});n.open()})})}(jQuery)))}}});function a(){var o=this.id.substring(this.id.lastIndexOf("-")+1);var k=document.getElementById("menu-item-"+o);var h=k.className;var g=document.getElementById("menu-item-settings-"+o);var l=g.getElementsByClassName("unit-size-selector")[0];var e=l.options[l.selectedIndex].value;var f=g.getElementsByClassName("media_image")[0];var j=g.getElementsByClassName("field-description")[0];var n=g.getElementsByClassName("mega_menu_images")[0];var m=g.getElementsByClassName("icon_selector")[0];if(-1!=h.indexOf("menu-item-depth-0")){n.classList.add("show");m.classList.add("show");f.classList.remove("show");j.classList.add("hidden-field")}else{n.classList.remove("show");l.parentNode.classList.add("show");if("unit1"!=e){j.classList.remove("hidden-field")}else{j.classList.add("hidden-field")}if("unit3"==e){f.classList.add("show")}else{f.classList.remove("show")}}}function d(){var g=this.parentNode.id.substring(this.parentNode.id.lastIndexOf("-")+1);document.getElementById(g+"_icon").value=this.attributes.name.value;var e=this.parentNode.getElementsByClassName("icon-option");for(var f=0;f<e.length;f++){e.item(f).classList.remove("is_selected")}this.classList.toggle("is_selected")}function c(){var g=this.id.substring(this.id.lastIndexOf("-")+1);var j=this.value;var f=document.getElementById("menu-item-settings-"+g);var h=f.getElementsByClassName("media_image")[0];var k=f.getElementsByClassName("field-description")[0];var e=f.getElementsByClassName("icon_selector")[0];if("unit1"!=j){k.classList.remove("hidden-field")}else{k.classList.add("hidden-field")}if("unit3"==j){h.classList.add("show");e.classList.remove("show")}else{h.classList.remove("show");e.classList.add("show")}}});